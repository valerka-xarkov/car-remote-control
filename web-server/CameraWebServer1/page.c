const char page[] = "<!doctype html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=710,user-scalable=no\"><meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"><link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TRZFKh3YQcchQnSyIijpqFYpQIdQKrTqYvPQPmjQkKS6OgmvBwZ/FqoOLs64OroIg+APi5Oik6CIl3pcUWsR44fE+zrvn8N59gNCoMM3qGgM03TbTyYSYza2KPa8IIIwIphGWmWXMSVIKvvV1T91Ud3Ge5d/3Z/WreYsBAZF4lhmmTbxBPLVpG5z3iaOsJKvE58SjJl2Q+JHrisdvnIsuCzwzambS88RRYrHYwUoHs5KpEU8Sx1RNp3wh67HKeYuzVqmx1j35C0N5fWWZ67SGkMQiliBBhIIayqjARpx2nRQLaTpP+PgHXb9ELoVcZTByLKAKDbLrB/+D37O1ChPjXlIoAXS/OM7HMNCzCzTrjvN97DjNEyD4DFzpbX+1Acx8kl5va7EjILwNXFy3NWUPuNwBBp4M2ZRdKUhLKBSA9zP6phwQuQX61ry5tc5x+gBkaFapG+DgEBgpUva6z7t7O+f2b09rfj9wgHKmx3rzdQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+QBDxM3IwgCBr0AAAEbSURBVDjLpZMxbsJAEEXfbiQKnC6uOEKkSBHJNXwADhC7SePWEpUlWpo02AfwAZxbgBESEkeAxnSYhsJpdjdrY5CAqXZn9n/9PzsjaIVw3CHgAx/Ap0ovgAJI6qpcNt63wD4w43oEdVUm+vJ0IxjAE73+jtOxMAq6wIf9ljTLAfgaeTy/DDqVSOW5AZ7+nAvpyM2E4w6laljj4Wa9OiPYrFddJL4QjjvX3T7st6YSRjGvb+//4MnY1Cw7CyEct74kUyvRRIb8OzBnyYPxsAWpJswU0iwnjOIGYDoZE0YxaZa3v7OQQNL21/as+2B7V5FINdvBpSZdyQV1VS7FHaPc2AezC5yOhej1d4B31zJZJLmVGVjrnCvwrw35A11NeSQY0ouKAAAAAElFTkSuQmCC\"><link rel=\"icon\" type=\"image/png\" sizes=\"64x64\" href=\"data:image/png;charset=utf-8;base64,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\"><title>Car</title><style>body{--size:300px;--border-color:green;--max-border-color:#191970;--border:1px solid var(--border-color);--radius:5px;--wheel-color:pink;margin:0}.main-content{display:flex;width:710px;justify-content:space-between;flex-wrap:wrap}.actions{padding:5px}.touched{background-color:#e8fbe8}.speed-control-wrapper{transition:background-color .1s ease;width:calc(var(--size)/2);overflow:hidden;position:relative;border:var(--border);border-radius:var(--radius)}.debug-monitor{height:200px;bottom:0;position:absolute;left:0;right:0;overflow:auto;border:1px solid #000;padding:5px}.danger{color:red}.img-placeholder{--ratio:1.33}.img-placeholder,img{height:var(--size);width:calc(var(--size)*var(--ratio))}img{position:absolute;display:block;transform:rotate(180deg)}.hidden{display:none}.aria-selector-pointer{border:1px solid red}</style></head><body><div class=\"actions\"><label class=\"monitor-switcher-placeholder\"><input type=\"checkbox\" class=\"video\"> Show image</label> <label class=\"monitor-switcher-placeholder\"><input type=\"checkbox\" class=\"light\"> Light</label></div><div class=\"main-content\"><div class=\"img-placeholder\"></div><area-selector height=\"300\" width=\"300\" pointer-size=\"100\" reset-when-stop=\"true\" zero-x=\"150\" zero-y=\"150\"></area-selector></div><span id=\"wheel-angle\"></span> <span id=\"speed-control-value\"></span><div class=\"debug-monitor\" hidden></div><script>!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=0)}([function(e,t,i){i(1),e.exports=i(4)},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),i(2);const n=i(3);!function(){const e=document.querySelector(\".monitor-switcher-placeholder .light\");e.addEventListener(\"change\",()=>{n.sendRequestSubsequently({[n.Props.Led]:e.checked.toString()})})}(),function(){const e=document.createElement(\"img\"),t=`http://${location.hostname}:81/stream`,i=document.querySelector(\".img-placeholder\"),n=document.querySelector(\".monitor-switcher-placeholder .video\");n.addEventListener(\"change\",()=>{n.checked?(e.src=t,i.appendChild(e)):(i.removeChild(e),e.src=null)})}(),function(){const e=document.querySelector(\"area-selector\");e.addEventListener(\"changed\",()=>{const t=e.pointFromZeroPercents(),i=Math.sign(t.y)*Math.round(45*Math.abs(t.y)+55),r=Math.round(50*t.x);n.sendRequestSubsequently({[n.Props.Power]:i.toString(),[n.Props.Angle]:r.toString()})})}()},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=\"interacted\";class r extends HTMLElement{constructor(){super(),this.curPointerSize=10,this.curZeroX=0,this.curZeroY=0,this.curHeight=100,this.curWidth=100,this.curResetWhenStop=!0,this.area=document.createElement(\"div\"),this.pointer=document.createElement(\"div\"),this.interacting=!1,this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.mouseUpHandler=this.mouseUpHandler.bind(this),this.initUserInteractionEvents=this.initUserInteractionEvents.bind(this),this.shadow=this.attachShadow({mode:\"open\"}),this.preparePointer()}static get observedAttributes(){return[\"height\",\"width\",\"pointer-size\",\"zero-x\",\"zero-y\",\"reset-when-stop\"]}get height(){return this.curHeight}set height(e){this.curHeight=Number.isFinite(e)?e:this.curHeight,this.area.style.height=`${this.curHeight}px`}get width(){return this.curWidth}set width(e){this.curWidth=Number.isFinite(e)?e:this.curWidth,this.area.style.width=`${this.curWidth}px`}get pointerSize(){return this.curPointerSize}set pointerSize(e){this.curPointerSize=Number.isFinite(e)?e:this.curPointerSize,this.pointer.style.height=this.pointer.style.width=`${this.curPointerSize}px`,this.pointer.style.borderRadius=`${this.pointerSize}px`}get resetWhenStop(){return this.curResetWhenStop}set resetWhenStop(e){this.curResetWhenStop=e}get zeroX(){return this.curZeroX}set zeroX(e){this.curZeroX=e,this.interacting||this.setPointerPosition(this.zeroX,this.zeroY)}get zeroY(){return this.curZeroY}set zeroY(e){this.curZeroY=e,this.interacting||this.setPointerPosition(this.zeroX,this.zeroY)}connectedCallback(){this.initPointerWatch()}disconnectedCallback(){this.removePointerWatch()}attributeChangedCallback(e,t,i){switch(e){case\"pointer-size\":return this.pointerSize=+i;case\"height\":return this.height=+i;case\"width\":return this.width=+i;case\"pointer-size\":return this.pointerSize=+i;case\"zero-x\":return this.zeroX=+i;case\"zero-y\":return this.zeroY=+i;case\"reset-when-stop\":return this.resetWhenStop=\"true\"===i}}position(){return Object.assign({},this.curPosition)}pointFromZero(){return{x:this.curPosition.left-this.width/2,y:-(this.curPosition.top-this.height/2)}}pointFromZeroPercents(){return{x:(this.curPosition.left-this.width/2)/(this.width-this.pointerSize)*2,y:-(this.curPosition.top-this.height/2)/(this.height-this.pointerSize)*2}}preparePointer(){this.pointer.className=\"area-pointer\",this.area.className=\"area\",this.area.appendChild(this.pointer);const e=document.createElement(\"style\");e.innerHTML=`\\n    :host {\\n      --area-border-color: hotpink;\\n      --pointer-background-color: hotpink;\\n      --area-hover-background-color: yellowgreen;\\n      --area-border-radius: 100px;\\n      display: block;\\n    }\\n    .area-pointer {\\n      background-color: var(--area-border-color);\\n      position: absolute;\\n      border-radius: ${this.pointerSize}px;\\n      box-sizing: border-box;\\n    }\\n    .area {\\n      position: relative;\\n      border: 1px solid var(--area-border-color);\\n      border-radius: var(--area-border-radius);\\n      transition: background-color .2s ease-out 0s;\\n    }\\n    .${n} {\\n      background-color: var( --area-hover-background-color);\\n    }\\n    `,this.shadow.append(this.area,e)}initPointerWatch(){this.pointer.addEventListener(\"mousedown\",this.initUserInteractionEvents),this.pointer.addEventListener(\"touchstart\",this.initUserInteractionEvents)}removePointerWatch(){this.pointer.removeEventListener(\"mousedown\",this.initUserInteractionEvents),this.pointer.removeEventListener(\"touchstart\",this.initUserInteractionEvents)}initUserInteractionEvents(e){if(e.preventDefault(),!this.interacting){if(this.area.classList.add(n),e instanceof TouchEvent){const t=e.changedTouches[0];this.touchIdentifier=t.identifier}document.addEventListener(\"mousemove\",this.mouseMoveHandler),document.addEventListener(\"mouseup\",this.mouseUpHandler),document.addEventListener(\"touchmove\",this.mouseMoveHandler),document.addEventListener(\"touchend\",this.mouseUpHandler),this.mouseMoveHandler(e)}this.interacting=!0}mouseMoveHandler(e){let t=null;if(e instanceof TouchEvent){if(t=Array.prototype.find.call(e.changedTouches,e=>e.identifier===this.touchIdentifier),!t)return}else t=e;const i=this.getBoundingClientRect(),n=this.calculatePointerPosition(t.clientX,i.left,this.width),r=this.calculatePointerPosition(t.clientY,i.top,this.height);this.setPointerPosition(n,r)}setPointerPosition(e,t){this.pointer.style.transform=`translate(${e-this.pointerSize/2}px, ${t-this.pointerSize/2}px)`,this.trigger(e,t)}calculatePointerPosition(e,t,i){return e<t+this.pointerSize/2?this.pointerSize/2:e>t+i-this.pointerSize/2?i-this.pointerSize/2:e-t}moveSlowlyTo(e,t){this.pointer.style.transition=\"transform .06s ease-out 0s\",this.setPointerPosition(e,t),setTimeout(()=>this.pointer.style.transition=null,60)}mouseUpHandler(){this.interacting&&(this.resetWhenStop&&this.moveSlowlyTo(this.zeroX,this.zeroY),document.removeEventListener(\"mousemove\",this.mouseMoveHandler),document.removeEventListener(\"mouseup\",this.mouseUpHandler),document.removeEventListener(\"touchmove\",this.mouseMoveHandler),document.removeEventListener(\"touchend\",this.mouseUpHandler)),this.area.classList.remove(n),this.interacting=!1}trigger(e,t){this.curPosition={left:e,top:t},this.dispatchEvent(new Event(\"changed\"))}}t.AreaSelector=r,customElements.define(\"area-selector\",r)},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=30;let r;!function(e){e.Angle=\"driveWheelAngle\",e.Power=\"drivePower\",e.Led=\"led\"}(t.Props||(t.Props={}));let o=!1;t.sendRequestSubsequently=function(e){o?r=Object.assign({},r,e):function e(t){const i=Date.now();o=!0;const s=new XMLHttpRequest;s.addEventListener(\"load\",()=>{}),s.addEventListener(\"loadend\",()=>{const t=Date.now()-i;setTimeout(()=>{o=!1,r&&(e(r),r=null)},Math.max(0,n-t))}),s.open(\"GET\",\"/wheels?\"+Object.keys(t).map(e=>`${e}=${t[e]}`).join(\"&\")),s.send()}(e)}},function(e,t,i){}]);</script></body></html>";